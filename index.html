<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tríptico dobrável</title>
<style>
  :root{
    --w: 900px;   /* largura total do tríptico - ajuste */
    --h: 1100px;  /* altura total - ajuste */
    --g: 0px;
    --dur: 900ms;
  }

  *{box-sizing:border-box;margin:0;padding:0}
  body{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:#f4f2ef;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  .stage{
    width:var(--w);
    height:var(--h);
    perspective:2000px;
  }

  .triptych{
    width:100%;
    height:100%;
    position:relative;
    display:flex;
  }

  /* cada coluna ocupa 1/3 da largura */
  .col{
    width:calc(33.333333% - var(--g));
    height:100%;
    position:relative;
    overflow:hidden;
    transform-style:preserve-3d;
    -webkit-transform-style:preserve-3d;
    backface-visibility:hidden;
    -webkit-backface-visibility:hidden;
    border-left:1px solid rgba(0,0,0,0.03);
    border-right:1px solid rgba(0,0,0,0.03);
    cursor:pointer;
  }

  /* camadas internas: face frontal (capa) e face interna (conteúdo) */
  .face{
    position:absolute;
    inset:0;
    background-size:cover;
    background-position:center;
    transform-style:preserve-3d;
    backface-visibility:hidden;
    -webkit-backface-visibility:hidden;
  }

  .face.back{
    transform:rotateY(180deg); /* quando a coluna girar 180, essa face ficará visível */
  }

  /* Origem da rotação para cada flap */
  .col.left  { transform-origin: left center; z-index:4; }
  .col.center{ transform-origin: center center; z-index:5; } /* fica por cima para receber clique */
  .col.right { transform-origin: right center; z-index:4; }

  /* Estado fechado (padrão) */
  .col.left  { transform: rotateY(0deg); }
  .col.right { transform: rotateY(0deg); }

  /* Estado ABERTO - classe no container .open faz as dobras */
  .open .col.left {
    transform: translateX(calc(33.333333%)) rotateY(-180deg);
    transition: transform var(--dur) cubic-bezier(.2,.9,.3,1);
  }
  .open .col.right {
    transform: translateX(calc(-33.333333%)) rotateY(180deg);
    transition: transform var(--dur) cubic-bezier(.2,.9,.3,1);
  }

  /* transições padrão para suavidade */
  .col { transition: transform var(--dur) cubic-bezier(.2,.9,.3,1); }

  /* responsivo */
  @media (max-width:980px){
    :root{ --w: 360px; --h: 700px; }
  }

  /* aparência opcional: borda branca entre colunas */
  .col + .col { box-shadow: inset 0 0 0 10px rgba(255,255,255,0); }
</style>
</head>
<body>

<div class="stage">
  <div id="trip" class="triptych">

    <!-- COLUNA 1 (ESQUERDA) -->
    <div id="c1" class="col left" title="Esquerda">
      <!-- face frontal = capa esquerda (mostrada quando fechado) -->
      <div class="face front" style="background-image:url('cover_left.png');"></div>
      <!-- face posterior = conteúdo esquerdo (mostra quando abrir) -->
      <div class="face back"  style="background-image:url('inner_left.png');"></div>
    </div>

    <!-- COLUNA 2 (CENTRO) -->
    <div id="c2" class="col center" title="Centro">
      <div class="face front" style="background-image:url('cover_center.png');"></div>
      <div class="face back"  style="background-image:url('inner_center.png');"></div>
    </div>

    <!-- COLUNA 3 (DIREITA) -->
    <div id="c3" class="col right" title="Direita">
      <div class="face front" style="background-image:url('cover_right.png');"></div>
      <div class="face back"  style="background-image:url('inner_right.png');"></div>
    </div>

  </div>
</div>

<script>
  // Toggle abrir/fechar ao clicar no centro (ou em qualquer lugar da stage)
  const trip = document.getElementById('trip');
  let aberto = false;

  // clique na área central (ou em qualquer coluna) toggla o estado
  trip.addEventListener('click', (e) => {
    aberto = !aberto;
    if(aberto) trip.classList.add('open');
    else trip.classList.remove('open');
  });

  // opcional: teclas A (abrir) / F (fechar)
  document.addEventListener('keydown', (ev) => {
    if(ev.key.toLowerCase() === 'a'){ trip.classList.add('open'); aberto=true; }
    if(ev.key.toLowerCase() === 'f'){ trip.classList.remove('open'); aberto=false; }
  });
</script>

</body>
</html>
